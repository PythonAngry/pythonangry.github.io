
<!DOCTYPE html>
<html>
  <head>
    
<meta charset="utf-8" >

<title>0313 | åˆåŒå•å­¦python | PythonAngry</title>
<meta name="description" content="">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://pythonangry.github.io/favicon.ico?v=1586249247557">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://pythonangry.github.io/styles/main.css">


  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

  


<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



  </head>
  <body>
    <div id="app" class="main">
      <div class="site-header-container">
  <div class="site-header">
    <div class="left">
      <a href="https://pythonangry.github.io">
        <img class="avatar" src="https://pythonangry.github.io/images/avatar.png?v=1586249247557" alt="" width="32px" height="32px">
      </a>
      <a href="https://pythonangry.github.io">
        <h1 class="site-title">PythonAngry</h1>
      </a>
    </div>
    <div class="right">
      <transition name="fade">
        <i class="icon" :class="{ 'icon-close-outline': menuVisible, 'icon-menu-outline': !menuVisible }" @click="menuVisible = !menuVisible"></i>
      </transition>
    </div>
  </div>
</div>

<transition name="fade">
  <div class="menu-container" style="display: none;" v-show="menuVisible">
    <div class="menu-list">
      
        
          <a href="https://pythonangry.github.io" class="menu purple-link">
            é¦–é¡µ
          </a>
        
      
        
          <a href="/archives" class="menu purple-link">
            å½’æ¡£
          </a>
        
      
        
          <a href="/tags" class="menu purple-link">
            æ ‡ç­¾
          </a>
        
      
        
          <a href="/post/about" class="menu purple-link">
            å…³äº
          </a>
        
      
    </div>
  </div>
</transition>


      <div class="content-container">
        <div class="post-detail">
          
            <div class="feature-container" style="background-image: url('https://pythonangry.github.io/post-images/1j3QsQSxV.png')">
            </div>
          
          <h2 class="post-title">0313 | åˆåŒå•å­¦python</h2>
          <div class="post-info post-detail-info">
            <span><i class="icon-calendar-outline"></i> 2020-03-13</span>
            
              <span>
                <i class="icon-pricetags-outline"></i>
                
                  <a href="https://pythonangry.github.io/tag/5uZ4jUdOU/">
                    è¯¾ç¨‹å­¦ä¹ 
                    
                  </a>
                
              </span>
            
          </div>
          <div class="post-content">
            <h3 id="å¾…è§£å†³éœ€æ±‚">å¾…è§£å†³éœ€æ±‚</h3>
<ol>
<li>å®ç°å¤šä¸ªåŒç±»ç½‘é¡µåŒæ—¶æœç´¢åŒä¸€å…³é”®å­—</li>
<li>å®ç°å¤šè¡Œä¹¦ç±ISBNå¯¼å…¥ï¼Œè¿ç»­åœ¨å•†æŸ¥ç½‘é¡µæœç´¢æŸœä½ï¼Œå¹¶è¿”å›ç›¸åº”ç»“æœè‡³å¯¹åº”ISBNè¡ŒæŸœä½</li>
</ol>
<h3 id="å­¦ä¹ å·¥å…·">å­¦ä¹ å·¥å…·</h3>
<h4 id="ç®—æ³•ç»ƒä¹ ">ç®—æ³•ç»ƒä¹ </h4>
<ul>
<li>https://leetcode-cn.com/</li>
</ul>
<h4 id="dir-help">dir(); help()</h4>
<ol>
<li>çˆ¬è™«åº«</li>
</ol>
<ul>
<li><a href="http://www.python-requests.org/">requestsåº«</a></li>
<li><a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc">BeautifulSoupåº«</a>ï¼šä¸€ä¸ªå¯ä»¥ä»HTMLæˆ–XMLæ–‡ä»¶ä¸­æå–æ•°æ®çš„Pythonåº«</li>
<li><a href="https://docs.python.org/3.5/library/re.html">reæ­£åˆ™è¡¨è¾¾å¼</a>ï¼šè¿›è¡Œå„ç±»æ­£åˆ™è¡¨è¾¾å¼å¤„ç†</li>
<li><strong>çˆ¬è™«åè®®:</strong> ç½‘é¡µåœ°å€/robots.txt #çˆ¬è™«éœ€ç•™æ„ä¸çŠ¯æ³•</li>
</ul>
<ol start="2">
<li><a href="http://regex101.com">æ­£åˆ™è¡¨è¾¾å¼éªŒè¯ç½‘</a></li>
</ol>
<ul>
<li>500.2434: \d{1,}.\d{1,} #1åˆ°æ— ç©·æ•°å­—, <strong>.</strong> åŒ¹é… <strong>.</strong>,\dç”¨[0-9]äº¦å¯</li>
<li>Test Sentence: [a-zA-z]{1,}</li>
<li>198.3.43.2:(?:\d{1,3}.){3} #**?ğŸ˜—*ä¸æ•è·æœ€åä¸€ä¸ªåŒ¹é…</li>
</ul>
<p><strong>å‡½æ•°å¼ç¼–ç¨‹</strong>ï¼šmap()<br>
<strong>ä¸€ä¸€å¯¹åº”ç”Ÿæˆå­—å…¸</strong>ï¼šzip()</p>
<h3 id="ç”¨pythonå¤„ç†æ•°æ®">ç”¨pythonå¤„ç†æ•°æ®</h3>
<h4 id="1æ¸…æ´—å’–å•¡åˆ—è¡¨">1.æ¸…æ´—å’–å•¡åˆ—è¡¨</h4>
<pre><code>def cleanList(lst):
    cleanedList = []
    for item in lst:
        for c in item:
            if c.isalpha() != True:
                item = item.replace(c,'')
        cleanedList.append(item)
    return cleanedList

coffeeList = ['32Latte','+Americano30','/34Cappuccino','Mocha35']
cleanedList = cleanList(coffeeList)
for k,v in zip(range(1,len(cleanedList)+1),cleanedList):
    print(k,v)
</code></pre>
<hr>
<h3 id="pythonçˆ¬è™«">pythonçˆ¬è™«</h3>
<h4 id="1-çˆ¬è±†ç“£çŸ­è¯„">1. çˆ¬è±†ç“£çŸ­è¯„</h4>
<pre><code>import requests
from bs4 import BeautifulSoup
headers={'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.149 Safari/537.36'}
#åŠ headersååçˆ¬ï¼Œåœ¨æµè§ˆå™¨æ‰“ä¸Šabout://virsionæŸ¥è¯¢ï¼Œä¿®æ”¹å‰æ— è¿”å›ç»“æœï¼Œäºæ˜¯printï¼ˆrï¼‰
è·å¾—[418]ï¼šThe HTTP 418 Iâ€™m a teapot client error response code indicates that the server refuses to brew coffee because it is a teapot. This error is a reference to Hyper Text Coffee Pot Control Protocol which was an April Foolsâ€™ joke in 1998.
r = requests.get('https://book.douban.com/subject/1084336/comments/',headers=headers)
soup = BeautifulSoup(r.text,'lxml') #å°†ä¹‹å‰getåˆ°çš„å¯¹è±¡r.textä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ å…¥bså‡½æ•°ï¼Œè·å¾—ä¸€ä¸ªbså¯¹è±¡soup
pattern = soup.find_all('span','short') #é€šè¿‡findallæ–¹æ³•å¯»æ‰¾è¯„è®ºæ‰€åœ¨çš„è¡Œï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªåˆ—è¡¨ã€‚æºä»£ç ä¸­è¯„è®ºè¡Œçš„æ ‡ç­¾ä¸ºspanï¼Œå±æ€§ä¸ºshortã€‚
for item in pattern: #éå†åˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªé¡¹
    print(item.string)
</code></pre>
<h4 id="2çˆ¬è±†ç“£è¯„åˆ†æ˜¾ç„¶æ²¡çˆ¬åˆ°">2.çˆ¬è±†ç“£è¯„åˆ†ï¼ˆæ˜¾ç„¶æ²¡çˆ¬åˆ°ï¼‰</h4>
<pre><code>import requests
from bs4 import BeautifulSoup
import re
headers={'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.149 Safari/537.36'}
r = requests.get('https://book.douban.com/subject/1084336/comments/',headers=headers)
soup = BeautifulSoup(r.text,'lxml') 
pattern = soup.find_all('span','short') 
for item in pattern: 
    print(item.string)
pattern_s = re.compile('&lt;span class = â€œuser-stars allstar(.*?) rating&gt;â€') #ç”¨compileæŠŠå­—ç¬¦ä¸²ç¼–è¯‘ä¸ºpatternå®ä¾‹,.*?åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼è·å–å­—ç¬¦ä¸²å½“ä¸­çš„è¯„åˆ†å†…å®¹
p = re.findall(pattern_s, r.text) #ç»“æœè¿”å›åˆ—è¡¨P
s=0
for star in p:
    s+=int(star)
print(s)

</code></pre>
<h4 id="3-åŠ¨æ€ç½‘é¡µçˆ¬å–">3. åŠ¨æ€ç½‘é¡µçˆ¬å–</h4>
<p>ä½¿ç”¨<strong>å¼€å‘è€…å·¥å…·</strong></p>
<hr>
<h3 id="2019å¹´9æœˆç¬¬ä¸€æ¬¡å°è¯•å­¦ä¹ deç¬”è®°">2019å¹´9æœˆç¬¬ä¸€æ¬¡å°è¯•å­¦ä¹ deç¬”è®°</h3>
<pre><code>ç±»
å¯¹è±¡
å±æ€§
æ–¹æ³•

print(a // b)  #é™¤å®Œå–æ•´
print(a % b)   #ä½™æ•°
print(a ** b)  #açš„bæ¬¡æ–¹

# %d æ•´æ•°
# %f å¸¦å°æ•°

# int()ï¼šå°†ä¸€ä¸ªæ•°å€¼æˆ–å­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°ï¼Œå¯ä»¥æŒ‡å®šè¿›åˆ¶ã€‚
# float()ï¼šå°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆæµ®ç‚¹æ•°ã€‚
# str()ï¼šå°†æŒ‡å®šçš„å¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²å½¢å¼ï¼Œå¯ä»¥æŒ‡å®šç¼–ç ã€‚
# chr()ï¼šå°†æ•´æ•°è½¬æ¢æˆè¯¥ç¼–ç å¯¹åº”çš„å­—ç¬¦ä¸²ï¼ˆä¸€ä¸ªå­—ç¬¦ï¼‰ã€‚
# ord()ï¼šå°†å­—ç¬¦ä¸²ï¼ˆä¸€ä¸ªå­—ç¬¦ï¼‰è½¬æ¢æˆå¯¹åº”çš„ç¼–ç ï¼ˆæ•´æ•°ï¼‰ã€‚

# print ('%.1f' % (c)) #å°†cä¿ç•™1ä½å°æ•°

# getpass æ¨¡å—
# randomæ¨¡å—çš„randint(éšæœºæ•°éƒ½åº”æ˜¯intæ•´æ•°)å‡½æ•°ç”ŸæˆæŒ‡å®šèŒƒå›´çš„éšæœºæ•°
# å¦‚æœæ˜ç¡®çš„çŸ¥é“å¾ªç¯æ‰§è¡Œçš„æ¬¡æ•°æˆ–è€…è¦å¯¹ä¸€ä¸ªå®¹å™¨è¿›è¡Œè¿­ä»£ï¼ˆåé¢ä¼šè®²åˆ°ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¨èä½¿ç”¨for-inå¾ªç¯

# i=1
# j=0
# num = int(input())
# while i &lt;= num-1 :
#     print (i)
#     i = i + j
#     j = i + j

# def fib(n):
#     a, b = 0, 1
#     for _ in range(n):
#         a, b = b, a + b
#         yield a

# PythonæŸ¥æ‰¾ä¸€ä¸ªå˜é‡æ—¶ä¼šæŒ‰ç…§â€œå±€éƒ¨ä½œç”¨åŸŸâ€ã€â€œåµŒå¥—ä½œç”¨åŸŸâ€ã€â€œå…¨å±€ä½œç”¨åŸŸâ€å’Œâ€œå†…ç½®ä½œç”¨åŸŸâ€çš„é¡ºåºè¿›è¡Œæœç´¢

# def main():
#     # Todo: Add your code here
#     pass
#
#
# if __name__ == '__main__':
#     main()
</code></pre>
<hr>
<h3 id="ä¸­å›½moocåŒ—äº¬ç†å·¥å¤§å­¦pythonè¯­è¨€ç¨‹åºè®¾è®¡">ä¸­å›½MOOCåŒ—äº¬ç†å·¥å¤§å­¦Pythonè¯­è¨€ç¨‹åºè®¾è®¡</h3>
<h4 id="çŸ¥è¯†ç‚¹æ‘˜å½•">çŸ¥è¯†ç‚¹æ‘˜å½•</h4>
<ul>
<li>evlaå¯ä»¥å»æ‰å­—ç¬¦ä¸²æˆ–å­—ç¬¦ä¸²å˜é‡çš„å¼•å·</li>
<li>print(&quot;fff:&quot;,i)  #é€—å·æœ‰å½¢æˆç©ºæ ¼çš„ä½œç”¨ = fff: i</li>
<li>range(N)äº§ç”Ÿ0åˆ°N-1ä¸ªæ•°ï¼›(M,N)äº§ç”ŸMåˆ°N-1ä¸ªæ•°</li>
<li>æ•´æ•°â†’æµ®ç‚¹æ•°â†’å¤æ•°ï¼Œ123+4.0=127.0ï¼ˆæ•°å€¼çš„èŒƒå›´æ‰©å¤§ä¸ºæµ®ç‚¹æ•°ï¼‰</li>
<li>æ§½{}ï¼Œåªåœ¨å­—ç¬¦ä¸²ä¸­æœ‰ç”¨</li>
<li>åˆ©ç”¨éšæœºæ•°ç§å­ç”Ÿæˆâ€œç¡®å®šâ€çš„éšæœºæ•°ï¼Œä»¥ä¾¿é‡‡ç”¨éšæœºæ•°çš„ç¨‹åºèƒ½å¤Ÿé‡æ¼”</li>
<li>ç´§è€¦åˆï¼Œæ¾è€¦åˆ ï¼šå‡½æ•°å†…ç´§è€¦åˆï¼Œå‡½æ•°é—´æ¾è€¦åˆï¼Œç´§è€¦åˆä»£ç å¤ç”¨è¾ƒä¸ºå›°éš¾ï¼Œä¸€æ”¹å…¨æ”¹</li>
</ul>
<h4 id="1æ¸©åº¦è½¬æ¢">1.æ¸©åº¦è½¬æ¢</h4>
<pre><code>TempStr = input()
if TempStr[-1] in ['F', 'f']:
     C = (eval(TempStr[0:-1]) - 32)/1.8
     print(&quot;{:.2f}C&quot;.format(C))
elif TempStr[-1] in ['C', 'c']:
     F = 1.8*eval(TempStr[0:-1]) + 32
     print(&quot;{:.2f}F&quot;.format(F))
else:
     print(&quot;è¾“å…¥æ ¼å¼é”™è¯¯&quot;)
</code></pre>
<h4 id="2è´§å¸è½¬æ¢">2.è´§å¸è½¬æ¢</h4>
<pre><code>money = input()
if money[0] in ['R']:  #è®°å¾—åŠ :
     USD = eval(money[3:])/6.78
     print(&quot;USD{:.2f}&quot;.format(USD))  #è®°å¾—åŠ å¼•å·
elif money[0] in ['U']:
     RMB = eval(money[3:])*6.78
     print(&quot;RMB{:.2f}&quot;.format(RMB))
</code></pre>
<h4 id="3æ•°å­—ä¸€ä¸€å¯¹åº”æ›¿æ¢">3.æ•°å­—ä¸€ä¸€å¯¹åº”æ›¿æ¢</h4>
<pre><code>table = ''.maketrans(&quot;abcdefghij&quot;,&quot;1234567890&quot;)  # åˆ›å»ºæ˜ å°„è¡¨ï¼Œæ³¨æ„å­—ç¬¦ä¸²çš„é•¿åº¦è¦ä¸€è‡´ï¼Œè¾¾åˆ°ä¸€ä¸€å¯¹åº”çš„ç›®çš„
str = &quot;hello world! i love python&quot;
str.translate(table)  # æŒ‰ç…§å…³ç³»è¡¨å°†stingä¸­çš„å­—ç¬¦é€ä¸ªè¿›è¡Œæ›¿æ¢
</code></pre>
<h4 id="4turtleå¯æ¶çš„èŸ’è›‡">4.Turtle:å¯æ¶çš„èŸ’è›‡</h4>
<pre><code>import turtle as t
t.setup(650,350,200,200)  #setup()è®¾ç½®çª—ä½“å¤§å°åŠä½ç½®ã€‚å®½ï¼Œé«˜ï¼Œxï¼Œyã€‚
t.penup()  #t.pu()
t.fd(-250)  #æµ·é¾Ÿçš„æ­£å‰æ–¹å‘è¿è¡Œt.fd(d)
t.pendown()  #t.pd()
t.pensize(25)  #t.width()
t.pencolor('purple')  #purpleè¦å°å†™
t.seth(-40)  #æ”¹å˜æµ·é¾Ÿè¡Œè¿›æ–¹å‘ï¼Œä¸ä½œç”»ï¼Œé€†æ—¶é’ˆ40åº¦
for i in range(4):
    t.circle(40,80)  #ä»¥æµ·é¾Ÿå½“å‰æŸç‚¹ä¸ºåœ†å¿ƒè¿›è¡Œæ›²çº¿è¿è¡Œturtle.circle(r,angle), rä¸ºåŠå¾„ï¼Œåœ†å¿ƒåœ¨turtleå·¦æ–¹rè·ç¦»å¤„ï¼Œç»˜åˆ¶å¼§åº¦ä¸ºangleï¼Œ90åˆ™ç»˜åˆ¶90åº¦å¼§çº¿
    t.circle(-40,80)
t.circle(40,80/2)
t.fd(40)
t.circle(16,180)
t.fd(40*2/3)
t.done()  #åŠ äº†æ­¤è¡Œä»£ç ç¨‹åºä¸ä¼šè‡ªåŠ¨é€€å‡º
</code></pre>
<h4 id="turtleçŸ¥è¯†ç‚¹">turtleçŸ¥è¯†ç‚¹</h4>
<p>turtleåˆ†ç»å¯¹æ–¹å‘ï¼Œç»å¯¹è§’åº¦ï¼Œå’Œæµ·é¾Ÿæ–¹å‘ï¼Œæµ·é¾Ÿè§’åº¦<br>
turtle.goto(x,y) #è®©é¾Ÿé¾Ÿå»çª—ä½“å†…çš„ä»»ä½•ä¸€ä¸ªä½ç½®<br>
turtle.left(angle)  #é¾Ÿé¾Ÿè‡ªå·±çš„æ–¹å‘è§’åº¦<br>
turtleåº“é»˜è®¤é‡‡ç”¨RGBå°æ•°å€¼è¡¨ç¤ºé¢œè‰²turtle.colormode(mode) mode=1.0æˆ–255<br>
<strong>from turtle import</strong>*</p>
<h4 id="5å¤©å¤©å‘ä¸Šçš„åŠ›é‡">5.å¤©å¤©å‘ä¸Šçš„åŠ›é‡</h4>
<pre><code>def dayUP(df):
    dayup = 1
    for i in range(365):
        if i % 7 in [0,6]:
            dayup = dayup * (1-0.01)
        else:
            dayup = dayup * (1+df)
    return dayup
dayfactor = 0.01
while dayUP(dayfactor) &lt; 37.78: #æ¯å¤©åŠªåŠ›ç™¾åˆ†ä¹‹ä¸€ä¸€å¹´ä¸‹æ¥ä¼šæœ‰37.78å€¼
    dayfactor += 0.001
print(&quot;å·¥ä½œæ—¥çš„åŠªåŠ›å‚æ•°æ˜¯{:.3f}&quot;.format(dayfactor))
</code></pre>
<h4 id="6æ–‡æœ¬è¿›åº¦æ¡">6.æ–‡æœ¬è¿›åº¦æ¡</h4>
<pre><code>import time
scale = 50
print(&quot;æ‰§è¡Œå¼€å§‹&quot;.center(scale//2,'-'))
start = time.perf_counter()
for i in range(scale+1):
    a = '*' * i
    b = '.' * (scale-i)
    c = (i/scale)*100
    dur = time.perf_counter() - start
    print(&quot;\r{:^3.0f}%[{}-&gt;{}]{:.2f}s&quot;.format(c,a,b,dur))
    time.sleep(0.1)
print(&quot;\n&quot;&quot;æ‰§è¡Œç»“æŸ&quot;.center(scale//2,'-'))
</code></pre>
<h4 id="7bmi">7.BMI</h4>
<pre><code>height, weight = eval(input('è¯·è¾“å…¥èº«é«˜(ç±³)å’Œä½“é‡(å…¬æ–¤)[é€—å·éš”å¼€]ï¼š'))
bmi = weight / pow(height,2)
print(&quot;BMIæ•°å€¼ä¸ºï¼š{:.2f}&quot;.format(bmi))
who, nat = &quot;&quot;,&quot;&quot;
if bmi &lt; 18.5:
  who, nat = &quot;åç˜¦&quot;, &quot;åç˜¦&quot;
elif 18.5 &lt;= bmi &lt;24:
  who, nat = &quot;æ­£å¸¸&quot;, &quot;æ­£å¸¸&quot;
elif 24 &lt;= bmi &lt; 25:
  who, nat = &quot;æ­£å¸¸&quot;, &quot;åèƒ–&quot;
elif 25 &lt;= bmi &lt; 28:
  who, nat = &quot;åèƒ–&quot;, &quot;åèƒ–&quot;
elif 28 &lt;= bmi &lt; 30:
  who, nat = &quot;åèƒ–&quot;, &quot;è‚¥èƒ–&quot;
else:
  who, nat = &quot;è‚¥èƒ–&quot;, &quot;è‚¥èƒ–&quot;
print(&quot;BMIæŒ‡æ ‡ä¸ºï¼šå›½é™…'{}',å›½å†…'{}'&quot;.format(who,nat))
</code></pre>
<h4 id="continue-break">continueï¼Œ break</h4>
<p>for c in &quot;PYTHON&quot; :<br>
if c == &quot;T&quot;:<br>
continue # è·³è¿‡å½“æ¬¡å¾ªç¯ï¼Œä¸è·³è¿‡å½“å‰å¾ªç¯  break # è·³å‡ºå¾ªç¯<br>
print(c,end=&quot;&quot;)</p>
<h4 id="8è’™ç‰¹å¡ç½—æ³•æ±‚è§£æ´¾-é¢ç§¯æ’’ç‚¹">8.è’™ç‰¹å¡ç½—æ³•æ±‚è§£æ´¾ # é¢ç§¯æ’’ç‚¹</h4>
<pre><code>from random import random
from time import perf_counter
darts = 1000*1000
hits = 0.0
start = perf_counter()
for i in range (1,darts+1):
  x, y = random(), random()
  dist = pow(x**2+y**2, 0.5)
  if dist &lt;=1.0:
    hits+= 1
pi = 4 * (hits/darts)
print(&quot;åœ†å‘¨ç‡å€¼ä¸º{}&quot;.format(pi))
print('è¿è¡Œæ—¶é—´ä¸º{:.5f}s'.format(perf_counter()-start))
</code></pre>
<h4 id="9ä¸ƒæ®µæ•°ç ç®¡ç»˜åˆ¶">9.ä¸ƒæ®µæ•°ç ç®¡ç»˜åˆ¶</h4>
<pre><code>import turtle
def drawLine(draw): #ç»˜åˆ¶å•æ®µæ•°ç ç®¡
    turtle.pendown() if draw else turtle.penup()
    turtle.fd(40)
    turtle.right(90)
def drawDigit(digit): #æ ¹æ®æ•°å­—ç»˜åˆ¶ä¸ƒæ®µæ•°ç ç®¡
    drawLine(True) if digit in [2,3,4,5,6,8,9] else drawLine(False)
    drawLine(True) if digit in [0,1,3,4,5,6,7,8,9] else drawLine(False)
    drawLine(True) if digit in [0,2,3,5,6,8,9] else drawLine(False)
    drawLine(True) if digit in [0,2,6,8] else drawLine(False)
    turtle.left(90)
    drawLine(True) if digit in [0,4,5,6,8,9] else drawLine(False)
    drawLine(True) if digit in [0,2,3,5,6,7,8,9] else drawLine(False)
    drawLine(True) if digit in [0,1,2,3,4,7,8,9] else drawLine(False)
    turtle.left(180)
    turtle.penup() #ä¸ºç»˜åˆ¶åç»­æ•°å­—ç¡®å®šä½ç½®
    turtle.fd(20)
def drawDate(date): #è·å¾—è¦è¾“å‡ºçš„æ•°å­—
    for i in date:
        drawDigit(eval(i))
def main():
    turtle.setup(800,350,200,200)
    turtle.penup()
    turtle.fd(-300)
    turtle.pensize(5)
    drawDate(&quot;20200319&quot;)
    turtle.hideturtle()
    turtle.done()
main()
</code></pre>
<p>=========================================</p>
<pre><code>import turtle,time
def drawGap():
    turtle.penup()
    turtle.fd(5)
def drawLine(draw): #ç»˜åˆ¶å•æ®µæ•°ç ç®¡
    drawGap()
    turtle.pendown() if draw else turtle.penup()
    turtle.fd(40)
    drawGap()
    turtle.right(90)
def drawDigit(digit): #æ ¹æ®æ•°å­—ç»˜åˆ¶ä¸ƒæ®µæ•°ç ç®¡
    drawLine(True) if digit in [2,3,4,5,6,8,9] else drawLine(False)
    drawLine(True) if digit in [0,1,3,4,5,6,7,8,9] else drawLine(False)
    drawLine(True) if digit in [0,2,3,5,6,8,9] else drawLine(False)
    drawLine(True) if digit in [0,2,6,8] else drawLine(False)
    turtle.left(90)
    drawLine(True) if digit in [0,4,5,6,8,9] else drawLine(False)
    drawLine(True) if digit in [0,2,3,5,6,7,8,9] else drawLine(False)
    drawLine(True) if digit in [0,1,2,3,4,7,8,9] else drawLine(False)
    turtle.left(180)
    turtle.penup() #ä¸ºç»˜åˆ¶åç»­æ•°å­—ç¡®å®šä½ç½®
    turtle.fd(20)
def drawDate(date): #è·å¾—è¦è¾“å‡ºçš„æ•°å­—
    turtle.pencolor('red')
    for i in date:
        if i =='-':
            turtle.write('å¹´',font=('Arial',18,'normal'))
            turtle.pencolor('green')
            turtle.fd(40)
        elif i =='=':
            turtle.write('æœˆ', font=('Arial', 18, 'normal'))
        elif i =='+':
            turtle.write('æ—¥', font=('Arial', 18, 'normal'))
        else:
            drawDigit(eval(i))
def main():
    turtle.setup(800,350,200,200)
    turtle.penup()
    turtle.fd(-300)
    turtle.pensize(5)
    drawDate(time.strftime(&quot;%y-%m=%d+&quot;,time.gmtime()))
    turtle.hideturtle()
    turtle.done()
main()
</code></pre>
<h4 id="10ç§‘èµ«é›ªèŠ±">10.ç§‘èµ«é›ªèŠ±</h4>
<pre><code>import turtle,time
def koch (size,n):
    if n == 0:
        turtle.fd(size)
    else:
        for angle in [0,60,-120,60]:
            turtle.left(angle)
            koch(size/3,n-1)
def main():
    turtle.setup(600,600)
    turtle.penup()
    turtle.goto(-200,100)
    turtle.pendown()
    turtle.pensize(2)
    level = 2 # 2é˜¶ç§‘èµ«é›ªèŠ±ï¼Œé˜¶æ•°
    koch(400,level)
    turtle.right(120)
    koch(400, level)
    turtle.right(120)
    koch(400, level)
    turtle.hideturtle()
main()
</code></pre>
<h4 id="11ç¬¬äº”å‘¨ç»ƒä¹ é¢˜">11.ç¬¬äº”å‘¨ç»ƒä¹ é¢˜</h4>
<p><strong>aéšæœºå¯†ç ç”Ÿæˆ</strong><br>
â€ªâ€¬â€ªâ€¬â€ªâ€¬â€ªâ€¬ä»¥æ•´æ•°17ä¸ºéšæœºæ•°ç§å­ï¼Œè·å–ç”¨æˆ·è¾“å…¥æ•´æ•°Nä¸ºé•¿åº¦ï¼Œäº§ç”Ÿ3ä¸ªé•¿åº¦ä¸ºNä½çš„å¯†ç ï¼Œå¯†ç çš„æ¯ä½æ˜¯ä¸€ä¸ªæ•°å­—ã€‚æ¯ä¸ªå¯†ç å•ç‹¬ä¸€è¡Œè¾“å‡ºã€‚äº§ç”Ÿå¯†ç é‡‡ç”¨random.randint()å‡½æ•°ã€‚</p>
<pre><code>import random
def genpwd(length): #è¾“å…¥é•¿åº¦3ï¼Œç”Ÿæˆ3ä½æ•°èŒƒå›´
    x = pow(10,length-1) #1
    y = pow(10,length)-1 #999
    return random.randint(x,y) # x &lt;= length &lt;= y
length = eval(input())
random.seed(17)
for i in range(3): #ç”Ÿæˆ3ä¸ªå¯†ç 
    print(genpwd(length))
</code></pre>
<p><strong>bè¿ç»­è´¨æ•°è®¡ç®—</strong><br>
è·å¾—ç”¨æˆ·è¾“å…¥æ•°å­—Nï¼Œè®¡ç®—å¹¶è¾“å‡ºä»Nå¼€å§‹çš„5ä¸ªè´¨æ•°ï¼Œå•è¡Œè¾“å‡ºï¼Œè´¨æ•°é—´ç”¨é€—å·,åˆ†å‰²ã€‚éœ€è¦è€ƒè™‘ç”¨æˆ·è¾“å…¥çš„æ•°å­—Nå¯èƒ½æ˜¯æµ®ç‚¹æ•°ï¼Œåº”å¯¹è¾“å…¥å–æ•´æ•°ï¼›æœ€åä¸€ä¸ªè¾“å‡ºåä¸ç”¨é€—å·ã€‚</p>
<pre><code>def prime(m):
    ï¼ˆtemp=int(math.sqrt(m))
    for i in range(2,temp+1): ï¼‰#æ­¤æ–¹æ³•å¯å‡å°‘è®¡ç®—æœºä½œä¸å¿…è¦æ™•çœ©ã€‚
    for i in range(2,m): #åœ¨2åˆ°mèŒƒå›´å†…è¿ç®—ï¼Œçœ‹æ˜¯å¦æœ‰æ•´é™¤æ•°
        if m%i == 0:
            return False
        else:
            return True
n = eval(input())
t = int(n)
if t &lt; n: #åªè¦è¾“å…¥å¸¦å°æ•°çš„æ•°ï¼Œå‡å–æ•´å+1æ‰èƒ½ä½œè´¨æ•°åˆ¤æ–­
    t+=1
count = 5
while count&gt;0:
    if prime(t):
        if count &gt;1 :
            print(t,end=&quot;,&quot;)
        else:
            print(t)
        count-=1
    t+=1
</code></pre>
<p><strong>cä»»æ„ç´¯ç§¯</strong></p>
<pre><code>def cmul(n, *b): #*bä¸ºå¯å˜å‚æ•°ï¼Œæ˜¯ä¸€ä¸ªç»„åˆæ•°æ®ç±»å‹ï¼ŒåŒ…å«1ä¸ªæˆ–å¤šä¸ªå‚æ•°
    s = n
    for item in b:
        s*=item
    return s
print(eval(&quot;cmul({})&quot;.format(input())))
</code></pre>
<h4 id="12åŸºæœ¬ç»Ÿè®¡å€¼è®¡ç®—">12.åŸºæœ¬ç»Ÿè®¡å€¼è®¡ç®—</h4>
<pre><code>def getNum():
    nums = []
    iNumStr = input(&quot;è¯·è¾“å…¥æ•°å­—ï¼ˆå›è½¦é€€å‡ºï¼‰ï¼š&quot;)
    while iNumStr !=&quot;&quot;:
        nums.append(eval(iNumStr))
        iNumStr = input(&quot;è¯·è¾“å…¥æ•°å­—ï¼ˆå›è½¦é€€å‡ºï¼‰ï¼š&quot;)
    return nums

def mean(numbers):
    s = 0.0
    for num in numbers:
        s = s + num
    return s / len(numbers)

def dev(numbers, mean):
    sdev = 0.0
    for num in numbers:
        sdev = sdev + (num - mean)**2
    return pow(sdev / (len(numbers)-1), 0.5) #æ–¹å·®å…¬å¼

def median(numbers):
    sorted(numbers)
    size = len(numbers)
    if size % 2 == 0:
        med = ((numbers[size//2-1]) + numbers[size//2])/2 #ä»0å·ä½å¼€å§‹å–ï¼Œ[1,5]=å–å‰ä¸å–åï¼Œå–1ï¼Œ2ï¼Œ3ï¼Œ4ã€‚
    else:
        med = numbers[size//2]
    return med

n = getNum()
m = mean(n)
print('å¹³å‡å€¼:{},æ–¹å·®:{:.2},ä¸­ä½æ•°:{}'.format(m,dev(n,m),median(n)))
</code></pre>
<h4 id="13å“ˆå§†é›·ç‰¹è¯é¢‘ç»Ÿè®¡">13.å“ˆå§†é›·ç‰¹è¯é¢‘ç»Ÿè®¡</h4>
<pre><code>def getText():
    txt = open('hamlet.txt','r').read()
    txt = txt.lower()
    for ch in '!&quot;$%&amp;()*+,-./;:&lt;&gt;=?@[\\]^_{|}~`':
        txt = txt.replace(ch, &quot; &quot;)
    return txt

hamletTxt = getText()
words = hamletTxt.split()
counts = {}
for word in words:
    counts[word] = counts.get(word,0) + 1
items = list(counts.items())
items.sort(key=lambda x:x[1], reverse=True)
for i in range(10):
    word, count = items[i]
    print(&quot;{0:&lt;10}{1:&gt;5}&quot;.format(word, count))
</code></pre>
<h4 id="14ä¸‰å›½æ¼”ä¹‰äººç‰©å‡ºåœºç»Ÿè®¡">14.ä¸‰å›½æ¼”ä¹‰äººç‰©å‡ºåœºç»Ÿè®¡</h4>
<pre><code>import jieba
txt = open('sanguo.txt','r',encoding=utf-8).read()
excludes = {'å°†å†›','å´è¯´','è†å·','äºŒäºº','ä¸å¯','ä¸èƒ½','å¦‚æ­¤','...'}
words = jieba.lcut(txt)
counts = {}
for word in words:
    if len(word) == 1:
        continue
    elif word == 'è¯¸è‘›äº®' or word == 'å­”æ˜æ›°':
        rword = 'å­”æ˜'
    elif word == 'å…³å…¬' or word == 'äº‘é•¿':
        rword = 'å…³ç¾½'
    elif word == 'ç„å¾·' or word == 'ç„å¾·æ›°':
        rword = 'åˆ˜å¤‡'
    elif word == 'å­Ÿå¾·' or word == 'ä¸ç›¸':
        rword = 'æ›¹æ“'
    elif word == '...' or word == '...':
        rword = '..'
    else:
        rword = word
    counts[word] = counts.get(word,0) + 1
for word in excludes:
    del counts[word]
items = list(counts.items())
items.sort(key=lambda x:x[1], reverse=True)
for i in range(10):
    word, count = items[i]
    print(&quot;{0:&lt;10}{1:&gt;5}&quot;.format(word, count))
</code></pre>
<h4 id="15è‡ªåŠ¨è½¨è¿¹ç»˜åˆ¶">15.è‡ªåŠ¨è½¨è¿¹ç»˜åˆ¶</h4>
<p><strong>åŸºæœ¬æ€è·¯</strong></p>
<ol>
<li>å®šä¹‰æ•°æ®æ–‡ä»¶æ ¼å¼ï¼ˆæ¥å£ï¼‰</li>
<li>ç¼–å†™ç¨‹åºï¼Œæ ¹æ®æ–‡ä»¶æ¥å£è§£æå‚æ•°ç»˜åˆ¶å›¾å½¢</li>
<li>ç¼–åˆ¶æ•°æ®æ–‡ä»¶<br>
<strong>ç†è§£æ–¹æ³•æ€ç»´</strong></li>
</ol>
<ul>
<li>è‡ªåŠ¨åŒ–æ€ç»´ï¼šæ•°æ®å’ŒåŠŸèƒ½åˆ†ç¦»ï¼Œæ•°æ®é©±åŠ¨è‡ªåŠ¨è¿è¡Œ</li>
<li>æ¥å£åŒ–è®¾è®¡ï¼šæ ¼å¼åŒ–è®¾è®¡æ¥å£ï¼Œæ¸…æ™°æ˜äº†</li>
<li>äºŒç»´æ•°æ®åº”ç”¨ï¼šåº”ç”¨ç»´åº¦ç»„ç»‡æ•°æ®</li>
</ul>
<pre><code>import turtle as t
t.title('è‡ªåŠ¨è½¨è¿¹ç»˜åˆ¶')
t.setup(800,600,0,0)
t.pencolor('red')
t.pensize(5)
# æ•°æ®è¯»å–
datals = []
f = open('data.txt') #æ‰“å¼€æ•°æ®æ–‡ä»¶
for line in f:
    line = line.replace('\n','') #å°†æ¯ä¸€è¡Œçš„å›è½¦å»é™¤
    datals.append(list(map(eval,line.split(',')))) #mapå‡½æ•°å°†evalæ–¹æ³•è¿ç”¨åˆ°æ¯ä¸€ä¸ªå…ƒç´ å½“ä¸­
f.close() #æ­£ç¡®åŠæ—¶å…³é—­æ–‡ä»¶ï¼Œè‹¥å¿˜è®°ï¼Œç¨‹åºæ­£ç¡®è¿è¡Œåä¹Ÿä¼šå…³é—­
# è‡ªåŠ¨ç»˜åˆ¶
for i in range(len(datals)): #æ­¤æ—¶ï¼Œåˆ—è¡¨datalsç”±ä¸€ä¸ªä¸ªåˆ—è¡¨å…ƒç´ ç»„æˆï¼Œå³äºŒç»´æ•°æ®
    #æ•°æ®æ¥å£å½¢å¼å¦‚ï¼š300,1,144,0,1,0 åˆ†åˆ«ä¸ºè¡Œè¿›è·ç¦»ï¼Œè½¬å‘åˆ¤æ–­ï¼ˆ0å·¦è½¬ï¼Œ1å³è½¬ï¼‰ï¼Œè½¬å‘è§’åº¦ï¼ŒåŠRGBä¸‰ä¸ªé€šé“é¢œè‰²ï¼ˆ0-1ä¹‹é—´çš„æµ®ç‚¹æ•°ï¼‰
    t.pencolor(datals[i][3],datals[i][4],datals[i][5])
    t.fd(datals[i][0])
    if datals[i][1]:
        t.right(datals[i][2])
    else:
        t.left(datals[i][2])
</code></pre>
<h4 id="16æ”¿åºœå·¥ä½œæŠ¥å‘Šè¯äº‘">16.æ”¿åºœå·¥ä½œæŠ¥å‘Šè¯äº‘</h4>
<pre><code>import jieba
import wordcloud
from imageio import imread
mask = imread('fivestar.png') #è¿ç”¨imreadå°†è¯äº‘å½¢çŠ¶è¿›è¡Œè®¾å®šï¼Œä¹Ÿå¯ä»¥ä¸è®¾å®šï¼Œé»˜è®¤é•¿æ–¹å½¢
f = open('f.txt','r',encoding='utf-8')
t = f.read()
f.close()
ls = jieba.lcut(t) #ä¸­æ–‡æ–‡æœ¬éœ€è¦åˆ†è¯
txt = ' '.join(ls) #æŠŠåˆ†å‡ºæ¥çš„ä¸­æ–‡è¯åˆ—è¡¨ç”¨ç©ºæ ¼è¿æ¥å½¢æˆé•¿å­—ç¬¦ä¸²
w = wordcloud.WordCloud(font_path = 'msyh.ttc', mask = mask\ #maskæ–¹æ³•å½¢æˆä¸è§„åˆ™è¯äº‘
                        width = 1000, height = 700, background_color ='white', \)
w.generate(txt)
w.to_file('growordcloud.png')
</code></pre>
<h4 id="17ç¬¬ä¸ƒå‘¨ç»ƒä¹ é¢˜">17.ç¬¬ä¸ƒå‘¨ç»ƒä¹ é¢˜</h4>
<h5 id="acsvæ ¼å¼æ¸…æ´—ä¸è½¬æ¢">a.CSVæ ¼å¼æ¸…æ´—ä¸è½¬æ¢</h5>
<p>ï¼ˆ1ï¼‰æŒ‰è¡Œè¿›è¡Œå€’åºæ’åˆ—<br>
ï¼ˆ2ï¼‰æ¯è¡Œæ•°æ®å€’åºæ’åˆ—<br>
ï¼ˆ3ï¼‰ä½¿ç”¨åˆ†å·ï¼ˆ;ï¼‰ä»£æ›¿é€—å·ï¼ˆ,ï¼‰åˆ†å‰²æ•°æ®ï¼Œæ— ç©ºæ ¼</p>
<pre><code>f = open('data.csv','r')
lines = f.readlines()
lines.reverse()

for line in lines:
    line = line.replace('\n','')
    line =line.replace(' ','')
    t = line.split(&quot;,&quot;)
    t.reverse()
    print(&quot;;&quot;.join(t))
</code></pre>
<h5 id="bæ–‡æœ¬çš„å¹³å‡åˆ—æ•°">b.æ–‡æœ¬çš„å¹³å‡åˆ—æ•°</h5>
<p>ï¼ˆ1ï¼‰æœ‰æ•ˆè¡ŒæŒ‡åŒ…å«è‡³å°‘ä¸€ä¸ªå­—ç¬¦çš„è¡Œï¼Œä¸è®¡ç©ºè¡Œ<br>
ï¼ˆ2ï¼‰æ¯è¡Œçš„åˆ—æ•°ä¸ºå…¶æœ‰æ•ˆæ•°<br>
ï¼ˆ3ï¼‰å¹³å‡åˆ—æ•°ä¸ºæœ‰æ•ˆè¡Œçš„åˆ—æ•°å¹³å‡å€¼ï¼Œé‡‡ç”¨å››èˆäº”å…¥æ–¹å¼å–æ•´æ•°è¿›ä½</p>
<pre><code>f= open('latex.log','r')
bar = 0
chars = 0
for line in f.readlines():
    if not (len(line) == 1  and line[-1]=='\n') :
        bar +=1
        chars += len(line)-1

avg = round(chars/bar,0)
avg = int(avg)
print(avg)â€¬â€ªâ€¬â€®â€¬â€ªâ€¬â€®â€¬â€ªâ€¬â€ªâ€¬â€ªâ€¬â€ªâ€¬â€ªâ€¬â€®â€¬â€­â€¬â€ªâ€¬â€ªâ€¬â€ªâ€¬â€ªâ€¬â€ªâ€¬â€ªâ€¬â€®â€¬â€­â€¬â€«â€¬â€ªâ€¬â€ªâ€¬â€ªâ€¬â€ªâ€¬â€ªâ€¬â€®â€¬â€­â€¬â€«â€¬â€ª
</code></pre>

          </div>
        </div>

        
          <div class="next-post">
            <a class="purple-link" href="https://pythonangry.github.io/post/G2V6RA7Z4/">
              <h3 class="post-title">
                ä¸‹ä¸€ç¯‡ï¼šç½—ç¿”æ³•è€ƒ | æ™®æ³•æ•™è‚²
              </h3>
            </a>
          </div>
          
      </div>

      
        
          <div id="gitalk-container"></div>
        

        
      

      <div class="site-footer">
  <div class="slogan"></div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://pythonangry.github.io/atom.xml" target="_blank">RSS</a>
</div>


    </div>
    <script type="application/javascript">

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>



  
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>

      var gitalk = new Gitalk({
        clientID: '84b95f2fd7b3111e76ae',
        clientSecret: '6b90f0767647b7f65290a483c9691b7c78bb9b37',
        repo: 'pythonangry.github.io',
        owner: 'pythonangry',
        admin: ['pythonangry'],
        id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
      })

      gitalk.render('gitalk-container')

    </script>
  

  




  </body>
</html>
